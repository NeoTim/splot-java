<!DOCTYPE HTML>
<html lang="en" class="sidebar-visible no-js">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>KeychainItem - [DRAFT] Splot Design Documentation</title>
        

        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff" />

        <link rel="shortcut icon" href="../../favicon.png">
        <link rel="stylesheet" href="../../css/variables.css">
        <link rel="stylesheet" href="../../css/general.css">
        <link rel="stylesheet" href="../../css/chrome.css">
        <link rel="stylesheet" href="../../css/print.css" media="print">

        <!-- Fonts -->
        <link rel="stylesheet" href="../../FontAwesome/css/font-awesome.css">
        <link href="https://fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,600italic,700italic,800italic,400,300,600,700,800" rel="stylesheet" type="text/css">
        <link href="https://fonts.googleapis.com/css?family=Source+Code+Pro:500" rel="stylesheet" type="text/css">

        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" href="../../highlight.css">
        <link rel="stylesheet" href="../../tomorrow-night.css">
        <link rel="stylesheet" href="../../ayu-highlight.css">

        <!-- Custom theme stylesheets -->
        

        
    </head>
    <body class="light">
        <!-- Provide site root to javascript -->
        <script type="text/javascript">
            var path_to_root = "../../";
            var default_theme = "light";
        </script>

        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script type="text/javascript">
            try {
                var theme = localStorage.getItem('mdbook-theme');
                var sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script type="text/javascript">
            var theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            document.body.className = theme;
            document.querySelector('html').className = theme + ' js';
        </script>

        <!-- Hide / unhide sidebar before it is displayed -->
        <script type="text/javascript">
            var html = document.querySelector('html');
            var sidebar = 'hidden';
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            }
            html.classList.remove('sidebar-visible');
            html.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <div class="sidebar-scrollbox">
                <ol class="chapter"><li class="affix"><a href="../../title-page.html">Splot Design Documentation</a></li><li><a href="../../intro.html"><strong aria-hidden="true">1.</strong> Introduction</a></li><li><ol class="section"><li><a href="../../design-goals.html"><strong aria-hidden="true">1.1.</strong> Design Goals</a></li><li><a href="../../terminology.html"><strong aria-hidden="true">1.2.</strong> Terminology</a></li></ol></li><li><a href="../../som/intro.html"><strong aria-hidden="true">2.</strong> Splot Object Model</a></li><li><ol class="section"><li><a href="../../som/arch.html"><strong aria-hidden="true">2.1.</strong> Architecture</a></li><li><a href="../../som/things.html"><strong aria-hidden="true">2.2.</strong> Things</a></li><li><a href="../../som/properties.html"><strong aria-hidden="true">2.3.</strong> Properties</a></li><li><a href="../../som/methods.html"><strong aria-hidden="true">2.4.</strong> Methods</a></li><li><a href="../../som/traits.html"><strong aria-hidden="true">2.5.</strong> Traits</a></li><li><a href="../../som/children.html"><strong aria-hidden="true">2.6.</strong> Children</a></li><li><a href="../../som/trait-profiles.html"><strong aria-hidden="true">2.7.</strong> Trait Profiles</a></li><li><a href="../../som/groups.html"><strong aria-hidden="true">2.8.</strong> Groups</a></li><li><a href="../../som/technologies.html"><strong aria-hidden="true">2.9.</strong> Technologies</a></li></ol></li><li><a href="../../automation/intro.html"><strong aria-hidden="true">3.</strong> Automation</a></li><li><ol class="section"><li><a href="../../automation/primitives.html"><strong aria-hidden="true">3.1.</strong> Primitives</a></li><li><ol class="section"><li><a href="../../automation/pairings.html"><strong aria-hidden="true">3.1.1.</strong> Pairings</a></li><li><a href="../../automation/rules.html"><strong aria-hidden="true">3.1.2.</strong> Rules</a></li><li><a href="../../automation/timers.html"><strong aria-hidden="true">3.1.3.</strong> Timers</a></li><li><a href="../../automation/actionable.html"><strong aria-hidden="true">3.1.4.</strong> Actionable Primitives</a></li></ol></li><li><a href="../../automation/expressions.html"><strong aria-hidden="true">3.2.</strong> Automation Expressions</a></li><li><a href="../../automation/recipes.html"><strong aria-hidden="true">3.3.</strong> Automation Recipes</a></li><li><a href="../../automation/examples.html"><strong aria-hidden="true">3.4.</strong> Pulling it All Together</a></li></ol></li><li><a href="../../ssm/intro.html"><strong aria-hidden="true">4.</strong> Splot Security Model</a></li><li><ol class="section"><li><a href="../../ssm/arch.html"><strong aria-hidden="true">4.1.</strong> Architecture</a></li><li><a href="../../ssm/sessions.html"><strong aria-hidden="true">4.2.</strong> Security Sessions</a></li><li><a href="../../ssm/identities.html"><strong aria-hidden="true">4.3.</strong> Identities</a></li><li><a href="../../ssm/keychain.html"><strong aria-hidden="true">4.4.</strong> Keychain</a></li><li><a href="../../ssm/lost-secret-recovery.html"><strong aria-hidden="true">4.5.</strong> Lost Secret Recovery</a></li><li><a href="../../ssm/spske.html"><strong aria-hidden="true">4.6.</strong> Single-Purpose Shared Key Establishment</a></li><li><a href="../../ssm/unresolved-issues.html"><strong aria-hidden="true">4.7.</strong> Unresolved Issues</a></li></ol></li><li><a href="../../smcp/intro.html"><strong aria-hidden="true">5.</strong> Splot Monitoring and Control Protocol</a></li><li><ol class="section"><li><a href="../../smcp/examples.html"><strong aria-hidden="true">5.1.</strong> Introductory Example</a></li><li><a href="../../smcp/cloud_control.html"><strong aria-hidden="true">5.2.</strong> Remote Monitoring and Control</a></li></ol></li><li><a href="../../trait-def/core/intro.html"><strong aria-hidden="true">6.</strong> Core Traits</a></li><li><ol class="section"><li><a href="../../trait-def/core/base.html"><strong aria-hidden="true">6.1.</strong> Base</a></li><li><a href="../../trait-def/core/group.html"><strong aria-hidden="true">6.2.</strong> Group</a></li><li><a href="../../trait-def/core/scene.html"><strong aria-hidden="true">6.3.</strong> Scene</a></li><li><a href="../../trait-def/core/transition.html"><strong aria-hidden="true">6.4.</strong> Transition</a></li></ol></li><li><a href="../../trait-def/std/intro.html"><strong aria-hidden="true">7.</strong> Standard Traits</a></li><li><ol class="section"><li><a href="../../trait-def/std/on-off.html"><strong aria-hidden="true">7.1.</strong> OnOff</a></li><li><a href="../../trait-def/std/level.html"><strong aria-hidden="true">7.2.</strong> Level</a></li><li><a href="../../trait-def/std/light.html"><strong aria-hidden="true">7.3.</strong> Light</a></li><li><a href="../../trait-def/std/enabled.html"><strong aria-hidden="true">7.4.</strong> Enabled</a></li><li><a href="../../trait-def/std/energy.html"><strong aria-hidden="true">7.5.</strong> Energy</a></li><li><a href="../../trait-def/std/battery.html"><strong aria-hidden="true">7.6.</strong> Battery</a></li><li><a href="../../trait-def/std/ambient-environment.html"><strong aria-hidden="true">7.7.</strong> AmbientEnvironment</a></li><li><a href="../../trait-def/std/button.html"><strong aria-hidden="true">7.8.</strong> Button</a></li><li><a href="../../trait-def/std/presence.html"><strong aria-hidden="true">7.9.</strong> Presence</a></li></ol></li><li><a href="../../trait-def/auto/intro.html"><strong aria-hidden="true">8.</strong> Automation Traits</a></li><li><ol class="section"><li><a href="../../trait-def/auto/pairing.html"><strong aria-hidden="true">8.1.</strong> Pairing</a></li><li><a href="../../trait-def/auto/pairing-manager.html"><strong aria-hidden="true">8.2.</strong> PairingManager</a></li><li><a href="../../trait-def/auto/actionable.html"><strong aria-hidden="true">8.3.</strong> Actionable</a></li><li><a href="../../trait-def/auto/rule.html"><strong aria-hidden="true">8.4.</strong> Rule</a></li><li><a href="../../trait-def/auto/rule-manager.html"><strong aria-hidden="true">8.5.</strong> RuleManager</a></li><li><a href="../../trait-def/auto/timer.html"><strong aria-hidden="true">8.6.</strong> Timer</a></li><li><a href="../../trait-def/auto/timer-manager.html"><strong aria-hidden="true">8.7.</strong> TimerManager</a></li></ol></li><li><a href="../../trait-def/sec/intro.html"><strong aria-hidden="true">9.</strong> Security Traits</a></li><li><ol class="section"><li><a href="../../trait-def/sec/keychain.html"><strong aria-hidden="true">9.1.</strong> Keychain</a></li><li><a href="../../trait-def/sec/keychain-item.html" class="active"><strong aria-hidden="true">9.2.</strong> KeychainItem</a></li><li><a href="../../trait-def/sec/identity.html"><strong aria-hidden="true">9.3.</strong> Identity</a></li><li><a href="../../trait-def/sec/access-rule.html"><strong aria-hidden="true">9.4.</strong> AccessRule</a></li></ol></li></ol>
            </div>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle"></div>
        </nav>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                
                <div id="menu-bar" class="menu-bar">
                    <div id="menu-bar-sticky-container">
                        <div class="left-buttons">
                            <button id="sidebar-toggle" class="icon-button" type="button" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                                <i class="fa fa-bars"></i>
                            </button>
                            <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                                <i class="fa fa-paint-brush"></i>
                            </button>
                            <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                                <li role="none"><button role="menuitem" class="theme" id="light">Light (default)</button></li>
                                <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                                <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                                <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                                <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                            </ul>
                            
                            <button id="search-toggle" class="icon-button" type="button" title="Search. (Shortkey: s)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="S" aria-controls="searchbar">
                                <i class="fa fa-search"></i>
                            </button>
                            
                        </div>

                        <h1 class="menu-title">[DRAFT] Splot Design Documentation</h1>

                        <div class="right-buttons">
                            <a href="../../print.html" title="Print this book" aria-label="Print this book">
                                <i id="print-button" class="fa fa-print"></i>
                            </a>
                            
                        </div>
                    </div>
                </div>

                
                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <input type="search" name="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>
                

                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script type="text/javascript">
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <h1><a class="header" href="#keychainitem-trait-kcit" id="keychainitem-trait-kcit">KeychainItem Trait (<code>kcit</code>)</a></h1>
<p>Trait for managing an item in a cryptographic keychain.</p>
<table><thead><tr><th align="right">Attribute</th><th>Value</th></tr></thead><tbody>
<tr><td align="right">Id</td><td><code>tag:google.com,2018:m2m:traits:keychain-item:v1:v0#r0</code></td></tr>
<tr><td align="right">Short-Id</td><td><code>kcit</code></td></tr>
<tr><td align="right">Has-Children</td><td>no</td></tr>
<tr><td align="right">Requires</td><td><code>tag:google.com,2018:m2m:traits:base:v1:v0#r0</code></td></tr>
</tbody></table>
<h2><a class="header" href="#config-properties" id="config-properties">Config Properties</a></h2>
<table><thead><tr><th>Name</th><th>Key</th><th>R</th><th>W</th><th>Req</th><th>Description</th></tr></thead><tbody>
<tr><td>Identity</td><td><code>c/kcit/iden</code></td><td>X</td><td>X</td><td></td><td>The identity associated with this key.</td></tr>
</tbody></table>
<h3><a class="header" href="#ckcitiden--identity" id="ckcitiden--identity"><code>c/kcit/iden</code> : Identity</a></h3>
<p>The identity associated with this key.</p>
<table><thead><tr><th align="right">Attribute</th><th>Value</th></tr></thead><tbody>
<tr><td align="right">Value Type</td><td>nullable text string</td></tr>
<tr><td align="right">Flags</td><td><code>RW</code></td></tr>
</tbody></table>
<p>This field determines what identity to assume when a client uses this keychain item to authenticate.</p>
<p>Default value is <code>anon</code>.</p>
<p>This may be absent if the certificate is not associated with an identity.</p>
<h2><a class="header" href="#metadata-properties" id="metadata-properties">Metadata Properties</a></h2>
<table><thead><tr><th>Name</th><th>Key</th><th>R</th><th>W</th><th>Req</th><th>Description</th></tr></thead><tbody>
<tr><td>TraitURI</td><td><code>m/kcit/turi</code></td><td>X</td><td></td><td>X</td><td>The URI that uniquely identifies the specification used to implement this trait.</td></tr>
<tr><td>Type</td><td><code>m/kcit/type</code></td><td>X</td><td></td><td>X</td><td>Specifies what type of key this item contains.</td></tr>
<tr><td>Ours</td><td><code>m/kcit/ours</code></td><td>X</td><td></td><td></td><td>Determines if this certificate item has a private key.</td></tr>
<tr><td>Certificate</td><td><code>m/kcit/cert</code></td><td>X</td><td></td><td></td><td>DER-encoded X.509 Certificate</td></tr>
<tr><td>HashSha256</td><td><code>m/kcit/sha2</code></td><td>X</td><td></td><td></td><td>SHA256 hash of the certificate.</td></tr>
<tr><td>SecretShare</td><td><code>m/kcit/sssh</code></td><td>?</td><td>X</td><td></td><td>Contains one (of <em>m</em>) shares of the secret.</td></tr>
<tr><td>SecretShareVersion</td><td><code>m/kcit/sssv</code></td><td>X</td><td>X</td><td></td><td>The version of the secret share</td></tr>
</tbody></table>
<h3><a class="header" href="#mkcitturi--traituri" id="mkcitturi--traituri"><code>m/kcit/turi</code> : TraitURI</a></h3>
<p>The URI that uniquely identifies the specification used to implement this trait.</p>
<table><thead><tr><th align="right">Attribute</th><th>Value</th></tr></thead><tbody>
<tr><td align="right">Value Type</td><td>URI-reference</td></tr>
<tr><td align="right">Flags</td><td><code>CONST</code>, <code>REQ</code></td></tr>
</tbody></table>
<h3><a class="header" href="#mkcittype--type" id="mkcittype--type"><code>m/kcit/type</code> : Type</a></h3>
<p>Specifies what type of key this item contains.</p>
<table><thead><tr><th align="right">Attribute</th><th>Value</th></tr></thead><tbody>
<tr><td align="right">Value Type</td><td>integer</td></tr>
<tr><td align="right">Flags</td><td><code>CONST</code>, <code>REQ</code></td></tr>
</tbody></table>
<ul>
<li>0 = x.509 certificate</li>
<li>1 = password</li>
<li>2 = AES128 key</li>
</ul>
<h3><a class="header" href="#mkcitours--ours" id="mkcitours--ours"><code>m/kcit/ours</code> : Ours</a></h3>
<p>Determines if this certificate item has a private key.</p>
<table><thead><tr><th align="right">Attribute</th><th>Value</th></tr></thead><tbody>
<tr><td align="right">Value Type</td><td>boolean</td></tr>
<tr><td align="right">Flags</td><td><code>CONST</code></td></tr>
</tbody></table>
<p>If this item is a certificate without a private key, this value is false. Otherwise it is true. This field is only required when the contained key is asymmetric (public/private).</p>
<h3><a class="header" href="#mkcitcert--certificate" id="mkcitcert--certificate"><code>m/kcit/cert</code> : Certificate</a></h3>
<p>DER-encoded X.509 Certificate.</p>
<table><thead><tr><th align="right">Attribute</th><th>Value</th></tr></thead><tbody>
<tr><td align="right">Value Type</td><td>byte string</td></tr>
<tr><td align="right">Flags</td><td><code>CONST</code></td></tr>
</tbody></table>
<p>If the key for this item is asymmetric, then this property contains the public portion. For example, for X.509 keys this would contain the public certificate. If the underlying key is symmetric, then this property is absent.</p>
<h3><a class="header" href="#mkcitsha2--hashsha256" id="mkcitsha2--hashsha256"><code>m/kcit/sha2</code> : HashSha256</a></h3>
<p>SHA256 hash of the certificate.</p>
<table><thead><tr><th align="right">Attribute</th><th>Value</th></tr></thead><tbody>
<tr><td align="right">Value Type</td><td>byte string</td></tr>
<tr><td align="right">Flags</td><td><code>CONST</code></td></tr>
</tbody></table>
<h3><a class="header" href="#mkcitsssh--secretshare" id="mkcitsssh--secretshare"><code>m/kcit/sssh</code> : SecretShare</a></h3>
<p>Contains one (of <em>m</em>) shares of the secret.</p>
<table><thead><tr><th align="right">Attribute</th><th>Value</th></tr></thead><tbody>
<tr><td align="right">Value Type</td><td>nullable byte string</td></tr>
<tr><td align="right">Flags</td><td><code>OPT_GET</code>, <code>SET</code></td></tr>
</tbody></table>
<p>This property can only be read by someone who has authenticated with the “init” identity. It is only present on keychain items where <code>m/kcit/ours</code> is <em>true</em>. It allows someone to reconstruct the administrative credentials of the network without requiring a factory reset of every device. This allows an administrator to reconstruct their credential by only physically interacting with a subset of the devices in the administrative domain.</p>
<h3><a class="header" href="#mkcitsssv--secretshareversion" id="mkcitsssv--secretshareversion"><code>m/kcit/sssv</code> : SecretShareVersion</a></h3>
<p>The version of the secret share.</p>
<table><thead><tr><th align="right">Attribute</th><th>Value</th></tr></thead><tbody>
<tr><td align="right">Value Type</td><td>nullable integer</td></tr>
<tr><td align="right">Flags</td><td><code>RW</code></td></tr>
</tbody></table>
<p>This property MUST be updated every time the secret share is updated.</p>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->
                        
                            <a rel="prev" href="../../trait-def/sec/keychain.html" class="mobile-nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                                <i class="fa fa-angle-left"></i>
                            </a>
                        

                        
                            <a rel="next" href="../../trait-def/sec/identity.html" class="mobile-nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                                <i class="fa fa-angle-right"></i>
                            </a>
                        

                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">
                
                    <a href="../../trait-def/sec/keychain.html" class="nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                        <i class="fa fa-angle-left"></i>
                    </a>
                

                
                    <a href="../../trait-def/sec/identity.html" class="nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                        <i class="fa fa-angle-right"></i>
                    </a>
                
            </nav>

        </div>

        

        

        

        
        <script src="../../elasticlunr.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="../../mark.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="../../searcher.js" type="text/javascript" charset="utf-8"></script>
        

        <script src="../../clipboard.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="../../highlight.js" type="text/javascript" charset="utf-8"></script>
        <script src="../../book.js" type="text/javascript" charset="utf-8"></script>

        <!-- Custom JS scripts -->
        

        

    </body>
</html>
